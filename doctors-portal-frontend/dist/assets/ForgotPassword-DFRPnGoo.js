import{v as _,r as n,c as k,i as a,w as r,u as t,q as w,g as b,o as x,x as R,y as m,z as N,A as P,C as B,k as F,B as d,m as f}from"./index-CDUznlbP.js";import{i as z}from"./axios-D3XPDuSg.js";import{a as C}from"./apiRoutes-DVb9Ljmc.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"forgot-container"},I={__name:"ForgotPassword",setup(S){const p=b(),u=_(),g=n(null),l=n(!1),o=n({email:""}),c={email:[{required:!0,message:"Please input your email",trigger:["input","blur"]},{type:"email",message:"Please enter a valid email address",trigger:["input","blur"]}]},v=async()=>{var i,e;l.value=!0;try{const s=await z.post(C.forgotPassword,{email:o.value.email});u.success(s.data.message||"Reset link sent successfully.")}catch(s){const y=((e=(i=s==null?void 0:s.response)==null?void 0:i.data)==null?void 0:e.message)||"Failed to send reset link.";u.error(y)}finally{l.value=!1}};return(i,e)=>(x(),k("div",E,[a(t(w),{title:"Reset Password",hoverable:"",class:"forgot-card"},{default:r(()=>[a(t(R),{ref_key:"formRef",ref:g,model:o.value,rules:c,size:"large",onSubmit:m(v,["prevent"])},{default:r(()=>[a(t(N),{path:"email",label:"Email"},{default:r(()=>[a(t(P),{value:o.value.email,"onUpdate:value":e[0]||(e[0]=s=>o.value.email=s),placeholder:"Enter your registered email",onKeydown:e[1]||(e[1]=B(m(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(t(F),{vertical:"",size:24},{default:r(()=>[a(t(d),{type:"primary",size:"large",block:!0,loading:l.value,"attr-type":"submit",style:{"background-color":"#2080f0"}},{default:r(()=>e[3]||(e[3]=[f(" Send Reset Link ")])),_:1,__:[3]},8,["loading"]),a(t(d),{text:"",onClick:e[2]||(e[2]=s=>t(p).push("/login")),style:{"text-align":"center",width:"100%"}},{default:r(()=>e[4]||(e[4]=[f(" Back to Login ")])),_:1,__:[4]})]),_:1})]),_:1},8,["model"])]),_:1})]))}},h=q(I,[["__scopeId","data-v-38d4ee99"]]);export{h as default};
