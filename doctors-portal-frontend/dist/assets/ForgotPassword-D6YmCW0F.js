import{u as k,y as w,r as u,c as h,j as s,w as o,g as e,s as x,h as N,o as P,z as R,A as d,C as F,D as z,E as B,l as C,B as c,n as f,t as g}from"./index-C_dhaJxW.js";import{i as I}from"./axios-D3XPDuSg.js";import{a as L}from"./apiRoutes-CgTPNgLq.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"forgot-container"},q={__name:"ForgotPassword",setup(D){const{t:l}=k(),p=N(),m=w(),v=u(null),i=u(!1),r=u({email:""}),y={email:[{required:!0,message:"Please input your email",trigger:["input","blur"]},{type:"email",message:"Please enter a valid email address",trigger:["input","blur"]}]},_=async()=>{var n,t;i.value=!0;try{const a=await I.post(L.forgotPassword,{email:r.value.email});m.success(a.data.message||"Reset link sent successfully.")}catch(a){const b=((t=(n=a==null?void 0:a.response)==null?void 0:n.data)==null?void 0:t.message)||"Failed to send reset link.";m.error(b)}finally{i.value=!1}};return(n,t)=>(P(),h("div",V,[s(e(x),{title:e(l)("forgot.title"),hoverable:"",class:"forgot-card"},{default:o(()=>[s(e(R),{ref_key:"formRef",ref:v,model:r.value,rules:y,size:"large",onSubmit:d(_,["prevent"])},{default:o(()=>[s(e(F),{path:"email",label:e(l)("forgot.emailLabel")},{default:o(()=>[s(e(z),{value:r.value.email,"onUpdate:value":t[0]||(t[0]=a=>r.value.email=a),placeholder:e(l)("forgot.emailPlaceholder"),onKeydown:t[1]||(t[1]=B(d(()=>{},["prevent"]),["enter"]))},null,8,["value","placeholder"])]),_:1},8,["label"]),s(e(C),{vertical:"",size:24},{default:o(()=>[s(e(c),{type:"primary",size:"large",block:!0,loading:i.value,"attr-type":"submit",style:{"background-color":"#2080f0"}},{default:o(()=>[f(g(e(l)("forgot.sendLink")),1)]),_:1},8,["loading"]),s(e(c),{text:"",onClick:t[2]||(t[2]=a=>e(p).push("/login")),style:{"text-align":"center",width:"100%"}},{default:o(()=>[f(g(e(l)("forgot.backToLogin")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]))}},j=S(q,[["__scopeId","data-v-1c9393e7"]]);export{j as default};
