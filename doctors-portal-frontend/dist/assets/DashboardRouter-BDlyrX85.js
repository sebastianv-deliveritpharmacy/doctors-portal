import{I as x,u as w,r as p,c as m,o as v,j as h,g as c,L as E,H as B,i as P,e as I,a as s,t as g,M as V,O as J,P as H,Q as R,f as T,R as z,y as Z,S as W,w as y,s as N,T as q,n as G,l as S,D as K,U as Q,V as X,x as Y}from"./index-W4O6NDwM.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as M}from"./axios-D3XPDuSg.js";import{f as ee}from"./shipment-CREcLUiF.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),te=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,t)=>t?t.toUpperCase():o.toLowerCase()),ae=i=>{const e=te(i);return e.charAt(0).toUpperCase()+e.slice(1)},se=(...i)=>i.filter((e,o,t)=>!!e&&e.trim()!==""&&t.indexOf(e)===o).join(" ").trim();/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=({size:i,strokeWidth:e=2,absoluteStrokeWidth:o,color:t,iconNode:f,name:_,class:n,...l},{slots:r})=>x("svg",{...k,width:i||k.width,height:i||k.height,stroke:t||k.stroke,"stroke-width":o?Number(e)*24/Number(i):e,class:se("lucide",..._?[`lucide-${A(ae(_))}-icon`,`lucide-${A(_)}`]:["lucide-icon"]),...l},[...f.map(b=>x(...b)),...r.default?[r.default()]:[]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=(i,e)=>(o,{slots:t})=>x(oe,{...o,iconNode:e,name:i},t);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=$("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=$("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=$("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),le={class:"chart-wrapper"},ce={__name:"ChartComponent",setup(i){const e=E,{t:o}=w(),t=p([{name:o("chart.orders"),type:"area",data:[55,62,48,44,70,52,61,50]},{name:o("chart.earnings"),type:"bar",data:[80,85,60,30,90,45,85,40]},{name:o("chart.refunds"),type:"line",data:[20,18,12,10,11,25,15,30]}]),f=p({chart:{height:300,type:"line",stacked:!1,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[2,0,2],curve:"smooth",dashArray:[0,0,6]},fill:{opacity:[.2,1,1],type:["solid","solid","solid"]},colors:["#3347FF","#00B894","#FF5C5C"],plotOptions:{bar:{columnWidth:"40%",borderRadius:4}},dataLabels:{enabled:!1},markers:{size:0},xaxis:{categories:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{style:{colors:"#888"}}},yaxis:{labels:{style:{colors:"#888"}}},grid:{borderColor:"#eee",xaxis:{lines:{show:!1}}},legend:{position:"bottom",horizontalAlign:"center",markers:{width:10,height:10,radius:50}},tooltip:{shared:!0,intersect:!1,theme:"light"}});return(_,n)=>(v(),m("div",le,[h(c(e),{type:"line",height:"300",options:f.value,series:t.value},null,8,["options","series"])]))}},de=C(ce,[["__scopeId","data-v-d1a35913"]]),ue={class:"center-chart"},he={__name:"PieChart",setup(i){const{t:e}=w(),o=p([44,55,41,17]),t=B(()=>({chart:{id:"apexchart-example"},title:{text:e("pieChart.title"),align:"center",margin:40,style:{fontSize:"20px",fontWeight:"bold",color:"#263238"}},colors:["#2E93fA","#46DA62","#242E8A","#E91E63"],dataLabels:{enabled:!0},legend:{show:!0,position:"bottom"},labels:["Lisinopril","Levotiroxina","Atorvastatina","Metformina"]}));return(f,_)=>{const n=P("apexchart");return v(),m("div",ue,[h(n,{width:"600",type:"pie",options:t.value,series:o.value},null,8,["options","series"])])}}},pe=C(he,[["__scopeId","data-v-87da7ea1"]]),L=()=>M.get("/user"),_e=()=>M.get("/dashboard/stats"),ge={class:"dashboard-container"},fe={class:"greeting-card"},ve={class:"greeting-text"},me={class:"subtext"},be={class:"stats-overview"},ye={class:"card-top"},ke={class:"stat-title"},xe={class:"stat-value"},we={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"20",height:"20"},Ce=["href"],De={class:"chart-card"},Se={__name:"DashboardAdmin",setup(i){const{t:e}=w(),o=p({name:"",email:""}),t=p([{title:e("dashboard.cards.doctors.title"),value:0,change:0,icon:ie,iconBg:"#00B140",link:"#",linkText:e("dashboard.cards.doctors.linkText")},{title:e("dashboard.cards.prescriptions.title"),value:0,change:0,icon:ne,iconBg:"#0073e6",link:"#",linkText:e("dashboard.cards.prescriptions.linkText")},{title:e("dashboard.cards.completed.title"),value:0,change:0,icon:"checkmark",iconBg:"#f59e0b",link:"#",linkText:e("dashboard.cards.completed.linkText")},{title:e("dashboard.cards.month.title"),value:0,change:0,icon:re,iconBg:"#9b59b6",link:"#",linkText:e("dashboard.cards.month.linkText")}]),f=async()=>{try{const n=await L();o.value=n.data}catch(n){console.error("Failed to fetch user",n)}},_=async()=>{try{const l=(await _e()).data;t.value[0].value=l.active_doctors.count,t.value[0].change=l.active_doctors.change,t.value[1].value=l.prescriptions_today.count,t.value[1].change=l.prescriptions_today.change,t.value[2].value=l.completed_today.count,t.value[2].change=l.completed_today.change,t.value[3].value=l.this_month.count,t.value[3].change=l.this_month.change}catch(n){console.error("Failed to load dashboard stats",n)}};return I(()=>{localStorage.getItem("access_token")&&(f(),_())}),(n,l)=>(v(),m("div",ge,[s("div",fe,[s("h2",ve,g(n.$t("dashboard.greeting",{name:o.value.name})),1),s("div",me,g(n.$t("dashboard.subtext")),1),s("div",be,[(v(!0),m(V,null,J(t.value,r=>(v(),m("div",{key:r.title,class:"stat-card"},[s("div",ye,[s("div",null,[s("div",ke,g(r.title),1),s("div",xe,g(r.value),1),s("div",{class:H(["stat-change",{positive:r.change>0,negative:r.change<0,neutral:r.change===0}])},g(r.change>0?"↑":r.change<0?"↓":"+")+" "+g(Math.abs(r.change).toFixed(2))+"% ",3)]),s("div",{class:"stat-icon",style:R({backgroundColor:r.iconBg})},[r.icon==="checkmark"?(v(),m("svg",we,l[0]||(l[0]=[s("path",{d:"M9 16.17l-3.88-3.88L4 13.41l5 5 9-9-1.41-1.41z"},null,-1)]))):(v(),T(z(r.icon),{key:1,class:"icon"}))],4)]),s("a",{href:r.link,class:"stat-link"},g(r.linkText),9,Ce)]))),128))])]),s("div",De,[h(de),h(pe)])]))}},$e=C(Se,[["__scopeId","data-v-395588ce"]]),Ue={class:"dashboard-container"},Ne={class:"greeting-card-content"},Ae={class:"greeting-left"},Be={class:"subtext"},Ie={class:"greeting-right"},Te={class:"help-container"},ze={class:"help-title"},Me={class:"help-list"},Le={class:"table-container"},Fe={class:"table-responsive"},je={__name:"DashboardUser",setup(i){const{t:e}=w(),o=Z(),t=p("username"),f=p([]),_=p(!1),n=p(1),l=p(20),r=p(0),b=p(""),F=async()=>{var u;try{const a=localStorage.getItem("user");if(a){const O=JSON.parse(a);t.value=O.name;return}const d=await L(),U=((u=d==null?void 0:d.data)==null?void 0:u.user)??(d==null?void 0:d.data);U&&typeof U=="object"&&(t.value=parsedUser.name,localStorage.setItem("user",JSON.stringify(user.value)))}catch(a){console.error("Failed to fetch user",a),o.error(e("userDash.errors.fetchUser"))}},D=async()=>{try{_.value=!0;const u=await ee(n.value,l.value,b.value);f.value=u.data.data.map(a=>({id:a.id,name:a.prescription_name||"-",status:a.status||"unknown",patient_name:a.patient_name||"-",date_of_birth:a.date_of_birth||"-",insurance:a.insurance||"-",city:a.city||"-",source:a.source||"-",arrived_to_office_date:a.arrived_to_office_date||"-",shipment_id:a.shipment_id||"-"})),r.value=u.data.total}catch(u){console.error("Error fetching shipments:",u),o.error(e("userDash.errors.loadShipments"))}finally{_.value=!1}};I(()=>{localStorage.getItem("access_token")&&(F(),D())});const j=B(()=>[{title:e("userDash.table.patient"),key:"patient_name",width:150},{title:e("userDash.table.prescription"),key:"name",width:150},{title:e("userDash.table.dob"),key:"date_of_birth",className:"hide-on-mobile",width:120},{title:e("userDash.table.insurance"),key:"insurance",className:"hide-on-mobile",width:150},{title:e("userDash.table.city"),key:"city",className:"hide-on-mobile",width:120},{title:e("userDash.table.source"),key:"source",className:"hide-on-mobile",width:120},{title:e("userDash.table.arrived"),key:"arrived_to_office_date",render:u=>u.arrived_to_office_date?new Date(u.arrived_to_office_date).toLocaleDateString():"-",width:120},{title:e("userDash.table.status"),key:"status",render:u=>{const a={confirmed_prescription_received:{label:e("statuses.confirmed"),color:"#e6f7ff",textColor:"#1890ff"},data_entry:{label:e("statuses.dataEntry"),color:"#f6ffed",textColor:"#52c41a"},intake_processing:{label:e("statuses.intake"),color:"#fff7e6",textColor:"#fa8c16"},insurance_verification:{label:e("statuses.insuranceVerification"),color:"#fff1f0",textColor:"#f5222d"},copay_assistant:{label:e("statuses.copay"),color:"#f6faff",textColor:"#096dd9"},production:{label:e("statuses.production"),color:"#f9f0ff",textColor:"#722ed1"},collecting_copay:{label:e("statuses.collecting"),color:"#fff0f6",textColor:"#c41d7f"},delivery_confirmation:{label:e("statuses.delivered"),color:"#e6fffb",textColor:"#13c2c2"},default:{label:e("statuses.unknown"),color:"#f0f0f0",textColor:"#595959"}},d=a[u.status]||{...a.default,label:u.status||"Unknown"};return x(W,{style:{backgroundColor:d.color,color:d.textColor,fontWeight:"500",padding:"0 8px",whiteSpace:"nowrap"},bordered:!1},{default:()=>d.label})},width:120}]);return(u,a)=>(v(),m("div",Ue,[h(c(S),{vertical:"",size:"large"},{default:y(()=>[h(c(N),{class:"greeting-card"},{default:y(()=>[s("div",Ne,[s("div",Ae,[h(c(q),{label:"",value:`${c(e)("userDash.greeting")} ${t.value}`},null,8,["value"]),s("div",Be,g(c(e)("userDash.subtext")),1)]),s("div",Ie,[s("div",Te,[s("span",ze,g(c(e)("userDash.needHelp")),1),s("ul",Me,[s("li",null,[G(g(c(e)("userDash.phone"))+": ",1),a[3]||(a[3]=s("a",{href:"tel:+18329398137"},"832-939-8137",-1))]),s("li",null,g(c(e)("userDash.fax"))+": 832 939 8128",1)])])])])]),_:1}),h(c(N),null,{default:y(()=>[h(c(S),{justify:"space-between",align:"center",style:{"margin-bottom":"16px"}},{default:y(()=>[h(c(K),{value:b.value,"onUpdate:value":a[0]||(a[0]=d=>b.value=d),placeholder:c(e)("userDash.searchPlaceholder"),clearable:"",style:{"max-width":"300px"}},null,8,["value","placeholder"])]),_:1}),s("div",Le,[s("div",Fe,[h(c(Q),{columns:j.value,data:f.value,bordered:!0,loading:_.value,class:"prescription-table"},null,8,["columns","data","loading"])])]),h(c(S),{justify:"end",style:{"margin-top":"16px"}},{default:y(()=>[h(c(X),{page:n.value,"onUpdate:page":[a[1]||(a[1]=d=>n.value=d),D],"page-size":l.value,"item-count":r.value,"show-size-picker":"","page-sizes":[5,10,20],"onUpdate:pageSize":a[2]||(a[2]=d=>{l.value=d,n.value=1,D()})},null,8,["page","page-size","item-count"])]),_:1})]),_:1})]),_:1})]))}},Oe=C(je,[["__scopeId","data-v-629661a4"]]),He={__name:"DashboardRouter",setup(i){const e=Y();return(o,t)=>(v(),T(z(c(e).isAdmin()?$e:Oe)))}};export{He as default};
