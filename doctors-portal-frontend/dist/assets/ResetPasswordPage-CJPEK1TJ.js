import{r as i,v as _,c as P,i as a,w as t,u as r,q as k,H as R,g as N,o as q,x,y as l,z as d,A as p,C as m,B as C,m as E}from"./index-C_mfyI4l.js";import{i as h}from"./axios-D3XPDuSg.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"reset-container"},K={__name:"ResetPasswordPage",setup(U){const f=R(),c=N(),g=i(null),w=_(),n=i(!1),o=i({email:"",password:"",password_confirmation:""}),v={email:[{required:!0,message:"Email is required",trigger:["input","blur"]},{type:"email",message:"Invalid email",trigger:["input","blur"]}],password:[{required:!0,message:"Password is required",trigger:["input","blur"]},{min:6,message:"Password must be at least 6 characters",trigger:["input","blur"]}],password_confirmation:[{required:!0,message:"Please confirm your password",trigger:["input","blur"]}]},y=async()=>{var u,e;n.value=!0;try{await h.post("/reset-password",{token:f.params.token,...o.value}),w.success("Password reset successfully. You can now log in."),c.push("/login")}catch(s){const b=((e=(u=s==null?void 0:s.response)==null?void 0:u.data)==null?void 0:e.message)||"Something went wrong";w.error(b)}finally{n.value=!1}};return(u,e)=>(q(),P("div",I,[a(r(k),{title:"Reset Password",hoverable:"",class:"reset-card"},{default:t(()=>[a(r(x),{ref_key:"formRef",ref:g,model:o.value,rules:v,size:"large",onSubmit:l(y,["prevent"])},{default:t(()=>[a(r(d),{path:"email",label:"Email"},{default:t(()=>[a(r(p),{value:o.value.email,"onUpdate:value":e[0]||(e[0]=s=>o.value.email=s),placeholder:"Enter your email",onKeydown:e[1]||(e[1]=m(l(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(r(d),{path:"password",label:"New Password"},{default:t(()=>[a(r(p),{value:o.value.password,"onUpdate:value":e[2]||(e[2]=s=>o.value.password=s),type:"password",placeholder:"Enter new password","show-password-on":"click",onKeydown:e[3]||(e[3]=m(l(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(r(d),{path:"password_confirmation",label:"Confirm Password"},{default:t(()=>[a(r(p),{value:o.value.password_confirmation,"onUpdate:value":e[4]||(e[4]=s=>o.value.password_confirmation=s),type:"password",placeholder:"Confirm new password","show-password-on":"click",onKeydown:e[5]||(e[5]=m(l(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),a(r(C),{type:"primary",loading:n.value,"attr-type":"submit",block:"",style:{"background-color":"#2080f0"}},{default:t(()=>e[6]||(e[6]=[E(" Reset Password ")])),_:1,__:[6]},8,["loading"])]),_:1},8,["model"])]),_:1})]))}},M=B(K,[["__scopeId","data-v-ec31caec"]]);export{M as default};
