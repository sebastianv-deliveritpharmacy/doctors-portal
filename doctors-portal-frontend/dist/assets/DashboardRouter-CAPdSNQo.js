import{F as x,r as h,c as v,o as g,i as c,u,I as F,h as I,e as D,a as n,J as y,K as P,L as E,M as O,O as j,f as L,P as B,v as J,E as S,w as f,q as $,Q as V,m as H,k as C,A as R,R as Z,S as q,U as K,t as G}from"./index-BHWUVyN0.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as U}from"./axios-Ddd_rRZT.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,i)=>i?i.toUpperCase():r.toLowerCase()),W=o=>{const a=Q(o);return a.charAt(0).toUpperCase()+a.slice(1)},X=(...o)=>o.filter((a,r,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===r).join(" ").trim();/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=({size:o,strokeWidth:a=2,absoluteStrokeWidth:r,color:i,iconNode:d,name:l,class:t,..._},{slots:m})=>x("svg",{...b,width:o||b.width,height:o||b.height,stroke:i||b.stroke,"stroke-width":r?Number(a)*24/Number(o):a,class:X("lucide",...l?[`lucide-${M(W(l))}-icon`,`lucide-${M(l)}`]:["lucide-icon"]),..._},[...d.map(k=>x(...k)),...m.default?[m.default()]:[]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=(o,a)=>(r,{slots:i})=>x(Y,{...r,iconNode:a,name:o},i);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=A("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=A("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=A("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),se={class:"chart-wrapper"},ne={__name:"ChartComponent",setup(o){const a=F,r=h([{name:"Orders",type:"area",data:[55,62,48,44,70,52,61,50]},{name:"Earnings",type:"bar",data:[80,85,60,30,90,45,85,40]},{name:"Refunds",type:"line",data:[20,18,12,10,11,25,15,30]}]),i=h({chart:{height:300,type:"line",stacked:!1,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[2,0,2],curve:"smooth",dashArray:[0,0,6]},fill:{opacity:[.2,1,1],type:["solid","solid","solid"]},colors:["#3347FF","#00B894","#FF5C5C"],plotOptions:{bar:{columnWidth:"40%",borderRadius:4}},dataLabels:{enabled:!1},markers:{size:0},xaxis:{categories:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{style:{colors:"#888"}}},yaxis:{labels:{style:{colors:"#888"}}},grid:{borderColor:"#eee",xaxis:{lines:{show:!1}}},legend:{position:"bottom",horizontalAlign:"center",markers:{width:10,height:10,radius:50}},tooltip:{shared:!0,intersect:!1,theme:"light"}});return(d,l)=>(g(),v("div",se,[c(u(a),{type:"line",height:"300",options:i.value,series:r.value},null,8,["options","series"])]))}},oe=w(ne,[["__scopeId","data-v-22f8509d"]]),ie={name:"Apex charts",data:()=>({chartOptions:{chart:{id:"apexchart-example"},title:{text:"Completed prescription by %",align:"center",margin:40,style:{fontSize:"20px",fontWeight:"bold",color:"#263238"}},colors:["#2E93fA","#46DA62","#242E8A","#E91E63"],dataLabels:{enabled:!0},legend:{show:!0,position:"bottom"},labels:["Lisinopril","Levothyroxine","Atorvastatin","Metformin"]},series:[44,55,41,17]})},re={class:"center-chart"};function le(o,a,r,i,d,l){const t=I("apexchart");return g(),v("div",re,[c(t,{width:"600",type:"pie",options:o.chartOptions,series:o.series},null,8,["options","series"])])}const ce=w(ie,[["render",le]]),z=()=>U.get("/user"),de={class:"dashboard-container"},ue={class:"greeting-card"},pe={class:"greeting-text"},he={class:"stats-overview"},ge={class:"card-top"},me={class:"stat-title"},ve={class:"stat-value"},_e={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"20",height:"20"},ye=["href"],fe={class:"chart-card"},ke={__name:"DashboardAdmin",setup(o){const a=h({name:"",email:""}),r=h([{title:"Active Doctors",value:8,change:12.5,icon:ae,iconBg:"#00B140",link:"#",linkText:"See doctors"},{title:"Prescriptions Today",value:31,change:8.2,icon:te,iconBg:"#0073e6",link:"#",linkText:"View all"},{title:"Completed Today",value:12,change:-3.4,icon:"checkmark",iconBg:"#f59e0b",link:"#",linkText:"Check completed"},{title:"This Month",value:120,change:0,icon:ee,iconBg:"#9b59b6",link:"#",linkText:"Monthly stats"}]),i=async()=>{try{const d=await z();a.value=d.data}catch(d){console.error("Failed to fetch user",d)}};return D(()=>{localStorage.getItem("access_token")&&i()}),(d,l)=>(g(),v("div",de,[n("div",ue,[n("h2",pe,"Hello, "+y(a.value.name),1),l[1]||(l[1]=n("div",{class:"subtext"},"Track your activity and progress below.",-1)),n("div",he,[(g(!0),v(P,null,E(r.value,t=>(g(),v("div",{key:t.title,class:"stat-card"},[n("div",ge,[n("div",null,[n("div",me,y(t.title),1),n("div",ve,y(t.value),1),n("div",{class:O(["stat-change",{positive:t.change>0,negative:t.change<0,neutral:t.change===0}])},y(t.change>0?"↑":t.change<0?"↓":"+")+" "+y(Math.abs(t.change).toFixed(2))+"% ",3)]),n("div",{class:"stat-icon",style:j({backgroundColor:t.iconBg})},[t.icon==="checkmark"?(g(),v("svg",_e,l[0]||(l[0]=[n("path",{d:"M9 16.17l-3.88-3.88L4 13.41l5 5 9-9-1.41-1.41z"},null,-1)]))):(g(),L(B(t.icon),{key:1,class:"icon"}))],4)]),n("a",{href:t.link,class:"stat-link"},y(t.linkText),9,ye)]))),128))])]),n("div",fe,[c(oe),c(ce)])]))}},be=w(ke,[["__scopeId","data-v-b3b0cdbc"]]),xe=()=>U.get("/shipment-update"),we={class:"dashboard-container"},Ce={class:"greeting-card-content"},Ae={class:"greeting-left"},Se={__name:"DashboardUser",setup(o){h([]);const a=async()=>{try{const s=await xe();l.value=s.data.map((e,p)=>({id:e.id||p+1,name:e.prescription_name||"—",status:e.status||"unknown",started_at:e.date_shipped?new Date(e.date_shipped).toLocaleString():"—",activated_at:"",patient_name:e.patient_name||"—"}))}catch(s){console.error("Error fetching shipments:",s),r.error("Unable to load shipments.")}},r=J(),i=h({name:"",email:""}),d=async()=>{try{console.log("asdasdaads");const s=await z();i.value=s.data}catch(s){console.error("Failed to fetch user222",s),r.error("Failed to fetch user data222. Please login again.")}};D(()=>{localStorage.getItem("access_token")&&(d(),a())});const l=h([{id:1,name:"Amoxicillin",status:"active",started_at:"2025-04-30 08:15",activated_at:"2025-04-30 10:30",patient_name:"John Smith"},{id:2,name:"Ibuprofen",status:"inactive",started_at:"2025-04-29 14:00",activated_at:null,patient_name:"Emily Davis"},{id:3,name:"Metformin",status:"processing",started_at:"2025-04-30 09:00",activated_at:null,patient_name:"Carlos Martinez"},{id:4,name:"Losartan",status:"active",started_at:"2025-04-28 11:45",activated_at:"2025-04-28 15:00",patient_name:"Alice Johnson"}]),t=h(""),_=h(1),m=h(5),k=S(()=>t.value?l.value.filter(s=>s.name.toLowerCase().includes(t.value.toLowerCase())||s.patient_name.toLowerCase().includes(t.value.toLowerCase())):l.value),T=S(()=>{const s=(_.value-1)*m.value,e=s+m.value;return k.value.slice(s,e)}),N=[{title:"ID",key:"id"},{title:"Patient",key:"patient_name"},{title:"Prescription",key:"name"},{title:"Status",key:"status",render:s=>{let e="default",p=s.status;return s.status==="active"?e="success":s.status==="inactive"?e="error":s.status==="processing"&&(e="warning"),x(K,{type:e},{default:()=>p.charAt(0).toUpperCase()+p.slice(1)})}},{title:"Started At",key:"started_at"},{title:"Activated At",key:"activated_at",render:s=>s.activated_at||"—"}];return(s,e)=>(g(),v("div",we,[c(u(C),{vertical:"",size:"large"},{default:f(()=>[c(u($),{class:"greeting-card"},{default:f(()=>[n("div",Ce,[n("div",Ae,[c(u(V),{label:"",value:`Hello, ${i.value.name}`},null,8,["value"]),e[3]||(e[3]=n("div",{class:"subtext"},"Here you can see the status of your prescriptions",-1))]),e[4]||(e[4]=n("div",{class:"greeting-right"},[n("span",{class:"help-title"},"Need help? Contact us:"),n("ul",{class:"help-list"},[n("li",null,[H(" Phone: "),n("a",{href:"tel:+11231231233"},"832-939-8137")]),n("li",null," Fax: 832 939 8128 ")])],-1))])]),_:1}),c(u($),null,{default:f(()=>[c(u(C),{justify:"space-between",align:"center",style:{"margin-bottom":"16px"}},{default:f(()=>[c(u(R),{value:t.value,"onUpdate:value":e[0]||(e[0]=p=>t.value=p),placeholder:"Search prescriptions or patients...",clearable:"",style:{"max-width":"300px"}},null,8,["value"])]),_:1}),c(u(Z),{columns:N,data:T.value,bordered:!0},null,8,["data"]),c(u(C),{justify:"end",style:{"margin-top":"16px"}},{default:f(()=>[c(u(q),{page:_.value,"onUpdate:page":e[1]||(e[1]=p=>_.value=p),"page-size":m.value,"item-count":k.value.length,"show-size-picker":"","page-sizes":[5,10,20],"onUpdate:pageSize":e[2]||(e[2]=p=>{m.value=p,_.value=1})},null,8,["page","page-size","item-count"])]),_:1})]),_:1})]),_:1})]))}},$e=w(Se,[["__scopeId","data-v-ab743f27"]]),Be={__name:"DashboardRouter",setup(o){const a=G();return(r,i)=>(g(),L(B(u(a).isAdmin()?be:$e)))}};export{Be as default};
